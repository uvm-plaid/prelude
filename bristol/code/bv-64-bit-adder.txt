exprfunctions:

RECON(x) { (m[x]@1 + m[x]@2) }

not(x){ x + 1 }

mux4(s1, s2, b1, b2, b3, b4){
  (not(s1) * not(s2) * b1) +  (not(s1) * (s2) * b2) + ((s1) * not(s2) * b3) + ((s1) * (s2) * b4) 
}

andtablegmw(x, y, z) {
   let r11 = (r[z] + (m[x] + 1) * (m[y] + 1)) in
   let r10 = (r[z] + (m[x] + 1) * (m[y] + 0)) in
   let r01 = (r[z] + (m[x] + 0) * (m[y] + 1)) in
   let r00 = (r[z] + (m[x] + 0) * (m[y] + 0)) in
   { row1 = r11; row2 = r10; row3 = r01; row4 = r00 }
}

cmdfunctions:

OT4(x:string,c1:string,c2:string,b1:string,b2:string,b3:string,b4:string,i1:cid,i2:cid)
postcondition: ( m[x]@i1 == mux4(m[c1]@i1, m[c2]@i1, m[b1]@i2, m[b2]@i2, m[b3]@i2, m[b4]@i2) )

andgmw(z:string, x:string, y:string) {
  let table = andtablegmw(x,y,z) in
  m[z++"r1"]@1 := table.row1@1;
  m[z++"r2"]@1 := table.row2@1;
  m[z++"r3"]@1 := table.row3@1;
  m[z++"r4"]@1 := table.row4@1;
  OT4(z, x, y, z++"r4", z++"r3", z++"r2", z++"r1", 2, 1);
  m[z]@1 := r[z]@1
}
postcondition: ( RECON(z) == RECON(x) * RECON(y) )

xorgmw(z:string, x:string, y:string) {
   m[z]@1 := (m[x] + m[y])@1; m[z]@2 := (m[x] + m[y])@2
} 
postcondition: (RECON(z) == RECON(x) + RECON(y))

main() {
   xorgmw("376", "63", "127");
   xorgmw("375", "62", "126");
   xorgmw("374", "61", "125");
   xorgmw("373", "60", "124");
   xorgmw("372", "59", "123");
   xorgmw("371", "58", "122");
   xorgmw("370", "57", "121");
   xorgmw("369", "56", "120");
   xorgmw("368", "55", "119");
   xorgmw("367", "54", "118");
   xorgmw("366", "53", "117");
   xorgmw("365", "52", "116");
   xorgmw("364", "51", "115");
   xorgmw("363", "50", "114");
   xorgmw("362", "49", "113");
   xorgmw("361", "48", "112");
   xorgmw("360", "47", "111");
   xorgmw("359", "46", "110");
   xorgmw("358", "45", "109");
   xorgmw("357", "44", "108");
   xorgmw("356", "43", "107");
   xorgmw("355", "42", "106");
   xorgmw("354", "41", "105");
   xorgmw("353", "40", "104");
   xorgmw("352", "39", "103");
   xorgmw("351", "38", "102");
   xorgmw("350", "37", "101");
   xorgmw("349", "36", "100");
   xorgmw("348", "35", "99");
   xorgmw("347", "34", "98");
   xorgmw("346", "33", "97");
   xorgmw("345", "32", "96");
   xorgmw("344", "31", "95");
   xorgmw("343", "30", "94");
   xorgmw("342", "29", "93");
   xorgmw("341", "28", "92");
   xorgmw("340", "27", "91");
   xorgmw("339", "26", "90");
   xorgmw("338", "25", "89");
   xorgmw("337", "24", "88");
   xorgmw("336", "23", "87");
   xorgmw("335", "22", "86");
   xorgmw("334", "21", "85");
   xorgmw("333", "20", "84");
   xorgmw("332", "19", "83");
   xorgmw("331", "18", "82");
   xorgmw("330", "17", "81");
   xorgmw("329", "16", "80");
   xorgmw("328", "15", "79");
   xorgmw("327", "14", "78");
   xorgmw("326", "13", "77");
   xorgmw("325", "12", "76");
   xorgmw("324", "11", "75");
   xorgmw("323", "10", "74");
   xorgmw("322", "9", "73");
   xorgmw("321", "8", "72");
   xorgmw("320", "7", "71");
   xorgmw("319", "6", "70");
   xorgmw("318", "5", "69");
   xorgmw("317", "4", "68");
   xorgmw("316", "3", "67");
   xorgmw("315", "2", "66");
   xorgmw("314", "1", "65");
   xorgmw("440", "0", "64");
   andgmw("377", "0", "64");
   xorgmw("129", "65", "377");
   xorgmw("128", "1", "377");
   andgmw("130", "128", "129");
   xorgmw("378", "130", "377");
   xorgmw("132", "66", "378");
   xorgmw("131", "2", "378");
   andgmw("133", "131", "132");
   xorgmw("379", "133", "378");
   xorgmw("135", "67", "379");
   xorgmw("134", "3", "379");
   andgmw("136", "134", "135");
   xorgmw("380", "136", "379");
   xorgmw("138", "68", "380");
   xorgmw("137", "4", "380");
   andgmw("139", "137", "138");
   xorgmw("381", "139", "380");
   xorgmw("141", "69", "381");
   xorgmw("140", "5", "381");
   andgmw("142", "140", "141");
   xorgmw("382", "142", "381");
   xorgmw("144", "70", "382");
   xorgmw("143", "6", "382");
   andgmw("145", "143", "144");
   xorgmw("383", "145", "382");
   xorgmw("147", "71", "383");
   xorgmw("146", "7", "383");
   andgmw("148", "146", "147");
   xorgmw("384", "148", "383");
   xorgmw("150", "72", "384");
   xorgmw("149", "8", "384");
   andgmw("151", "149", "150");
   xorgmw("385", "151", "384");
   xorgmw("153", "73", "385");
   xorgmw("152", "9", "385");
   andgmw("154", "152", "153");
   xorgmw("386", "154", "385");
   xorgmw("156", "74", "386");
   xorgmw("155", "10", "386");
   andgmw("157", "155", "156");
   xorgmw("387", "157", "386");
   xorgmw("159", "75", "387");
   xorgmw("158", "11", "387");
   andgmw("160", "158", "159");
   xorgmw("388", "160", "387");
   xorgmw("162", "76", "388");
   xorgmw("161", "12", "388");
   andgmw("163", "161", "162");
   xorgmw("389", "163", "388");
   xorgmw("165", "77", "389");
   xorgmw("164", "13", "389");
   andgmw("166", "164", "165");
   xorgmw("390", "166", "389");
   xorgmw("168", "78", "390");
   xorgmw("167", "14", "390");
   andgmw("169", "167", "168");
   xorgmw("391", "169", "390");
   xorgmw("171", "79", "391");
   xorgmw("170", "15", "391");
   andgmw("172", "170", "171");
   xorgmw("392", "172", "391");
   xorgmw("174", "80", "392");
   xorgmw("173", "16", "392");
   andgmw("175", "173", "174");
   xorgmw("393", "175", "392");
   xorgmw("177", "81", "393");
   xorgmw("176", "17", "393");
   andgmw("178", "176", "177");
   xorgmw("394", "178", "393");
   xorgmw("180", "82", "394");
   xorgmw("179", "18", "394");
   andgmw("181", "179", "180");
   xorgmw("395", "181", "394");
   xorgmw("183", "83", "395");
   xorgmw("182", "19", "395");
   andgmw("184", "182", "183");
   xorgmw("396", "184", "395");
   xorgmw("186", "84", "396");
   xorgmw("185", "20", "396");
   andgmw("187", "185", "186");
   xorgmw("397", "187", "396");
   xorgmw("189", "85", "397");
   xorgmw("188", "21", "397");
   andgmw("190", "188", "189");
   xorgmw("398", "190", "397");
   xorgmw("192", "86", "398");
   xorgmw("191", "22", "398");
   andgmw("193", "191", "192");
   xorgmw("399", "193", "398");
   xorgmw("195", "87", "399");
   xorgmw("194", "23", "399");
   andgmw("196", "194", "195");
   xorgmw("400", "196", "399");
   xorgmw("198", "88", "400");
   xorgmw("197", "24", "400");
   andgmw("199", "197", "198");
   xorgmw("401", "199", "400");
   xorgmw("201", "89", "401");
   xorgmw("200", "25", "401");
   andgmw("202", "200", "201");
   xorgmw("402", "202", "401");
   xorgmw("204", "90", "402");
   xorgmw("203", "26", "402");
   andgmw("205", "203", "204");
   xorgmw("403", "205", "402");
   xorgmw("207", "91", "403");
   xorgmw("206", "27", "403");
   andgmw("208", "206", "207");
   xorgmw("404", "208", "403");
   xorgmw("468", "341", "404");
   xorgmw("210", "92", "404");
   xorgmw("209", "28", "404");
   andgmw("211", "209", "210");
   xorgmw("405", "211", "404");
   xorgmw("469", "342", "405");
   xorgmw("467", "340", "403");
   xorgmw("213", "93", "405");
   xorgmw("212", "29", "405");
   andgmw("214", "212", "213");
   xorgmw("406", "214", "405");
   xorgmw("470", "343", "406");
   xorgmw("466", "339", "402");
   xorgmw("216", "94", "406");
   xorgmw("215", "30", "406");
   andgmw("217", "215", "216");
   xorgmw("407", "217", "406");
   xorgmw("465", "338", "401");
   xorgmw("218", "31", "407");
   xorgmw("471", "344", "407");
   xorgmw("464", "337", "400");
   xorgmw("219", "95", "407");
   andgmw("220", "218", "219");
   xorgmw("408", "220", "407");
   xorgmw("472", "345", "408");
   xorgmw("463", "336", "399");
   xorgmw("222", "96", "408");
   xorgmw("221", "32", "408");
   andgmw("223", "221", "222");
   xorgmw("409", "223", "408");
   xorgmw("473", "346", "409");
   xorgmw("462", "335", "398");
   xorgmw("225", "97", "409");
   xorgmw("224", "33", "409");
   andgmw("226", "224", "225");
   xorgmw("410", "226", "409");
   xorgmw("474", "347", "410");
   xorgmw("461", "334", "397");
   xorgmw("228", "98", "410");
   xorgmw("227", "34", "410");
   andgmw("229", "227", "228");
   xorgmw("411", "229", "410");
   xorgmw("460", "333", "396");
   xorgmw("230", "35", "411");
   xorgmw("475", "348", "411");
   xorgmw("459", "332", "395");
   xorgmw("231", "99", "411");
   andgmw("232", "230", "231");
   xorgmw("412", "232", "411");
   xorgmw("476", "349", "412");
   xorgmw("458", "331", "394");
   xorgmw("234", "100", "412");
   xorgmw("233", "36", "412");
   andgmw("235", "233", "234");
   xorgmw("413", "235", "412");
   xorgmw("477", "350", "413");
   xorgmw("457", "330", "393");
   xorgmw("237", "101", "413");
   xorgmw("236", "37", "413");
   andgmw("238", "236", "237");
   xorgmw("414", "238", "413");
   xorgmw("478", "351", "414");
   xorgmw("456", "329", "392");
   xorgmw("240", "102", "414");
   xorgmw("239", "38", "414");
   andgmw("241", "239", "240");
   xorgmw("415", "241", "414");
   xorgmw("455", "328", "391");
   xorgmw("242", "39", "415");
   xorgmw("479", "352", "415");
   xorgmw("454", "327", "390");
   xorgmw("243", "103", "415");
   andgmw("244", "242", "243");
   xorgmw("416", "244", "415");
   xorgmw("480", "353", "416");
   xorgmw("453", "326", "389");
   xorgmw("246", "104", "416");
   xorgmw("245", "40", "416");
   andgmw("247", "245", "246");
   xorgmw("417", "247", "416");
   xorgmw("481", "354", "417");
   xorgmw("452", "325", "388");
   xorgmw("249", "105", "417");
   xorgmw("248", "41", "417");
   andgmw("250", "248", "249");
   xorgmw("418", "250", "417");
   xorgmw("482", "355", "418");
   xorgmw("451", "324", "387");
   xorgmw("252", "106", "418");
   xorgmw("251", "42", "418");
   andgmw("253", "251", "252");
   xorgmw("419", "253", "418");
   xorgmw("450", "323", "386");
   xorgmw("254", "43", "419");
   xorgmw("483", "356", "419");
   xorgmw("449", "322", "385");
   xorgmw("255", "107", "419");
   andgmw("256", "254", "255");
   xorgmw("420", "256", "419");
   xorgmw("484", "357", "420");
   xorgmw("448", "321", "384");
   xorgmw("258", "108", "420");
   xorgmw("257", "44", "420");
   andgmw("259", "257", "258");
   xorgmw("421", "259", "420");
   xorgmw("485", "358", "421");
   xorgmw("447", "320", "383");
   xorgmw("261", "109", "421");
   xorgmw("260", "45", "421");
   andgmw("262", "260", "261");
   xorgmw("422", "262", "421");
   xorgmw("486", "359", "422");
   xorgmw("446", "319", "382");
   xorgmw("264", "110", "422");
   xorgmw("263", "46", "422");
   andgmw("265", "263", "264");
   xorgmw("423", "265", "422");
   xorgmw("445", "318", "381");
   xorgmw("266", "47", "423");
   xorgmw("487", "360", "423");
   xorgmw("444", "317", "380");
   xorgmw("267", "111", "423");
   andgmw("268", "266", "267");
   xorgmw("424", "268", "423");
   xorgmw("488", "361", "424");
   xorgmw("443", "316", "379");
   xorgmw("270", "112", "424");
   xorgmw("269", "48", "424");
   andgmw("271", "269", "270");
   xorgmw("425", "271", "424");
   xorgmw("489", "362", "425");
   xorgmw("442", "315", "378");
   xorgmw("273", "113", "425");
   xorgmw("272", "49", "425");
   andgmw("274", "272", "273");
   xorgmw("426", "274", "425");
   xorgmw("490", "363", "426");
   xorgmw("441", "314", "377");
   xorgmw("276", "114", "426");
   xorgmw("275", "50", "426");
   andgmw("277", "275", "276");
   xorgmw("427", "277", "426");
   xorgmw("279", "115", "427");
   xorgmw("278", "51", "427");
   andgmw("280", "278", "279");
   xorgmw("428", "280", "427");
   xorgmw("282", "116", "428");
   xorgmw("281", "52", "428");
   andgmw("283", "281", "282");
   xorgmw("429", "283", "428");
   xorgmw("285", "117", "429");
   xorgmw("284", "53", "429");
   andgmw("286", "284", "285");
   xorgmw("430", "286", "429");
   xorgmw("288", "118", "430");
   xorgmw("287", "54", "430");
   andgmw("289", "287", "288");
   xorgmw("431", "289", "430");
   xorgmw("291", "119", "431");
   xorgmw("290", "55", "431");
   andgmw("292", "290", "291");
   xorgmw("432", "292", "431");
   xorgmw("294", "120", "432");
   xorgmw("293", "56", "432");
   andgmw("295", "293", "294");
   xorgmw("433", "295", "432");
   xorgmw("497", "370", "433");
   xorgmw("297", "121", "433");
   xorgmw("296", "57", "433");
   andgmw("298", "296", "297");
   xorgmw("434", "298", "433");
   xorgmw("498", "371", "434");
   xorgmw("496", "369", "432");
   xorgmw("300", "122", "434");
   xorgmw("299", "58", "434");
   andgmw("301", "299", "300");
   xorgmw("435", "301", "434");
   xorgmw("499", "372", "435");
   xorgmw("495", "368", "431");
   xorgmw("303", "123", "435");
   xorgmw("302", "59", "435");
   andgmw("304", "302", "303");
   xorgmw("436", "304", "435");
   xorgmw("494", "367", "430");
   xorgmw("305", "60", "436");
   xorgmw("500", "373", "436");
   xorgmw("493", "366", "429");
   xorgmw("306", "124", "436");
   andgmw("307", "305", "306");
   xorgmw("437", "307", "436");
   xorgmw("501", "374", "437");
   xorgmw("492", "365", "428");
   xorgmw("309", "125", "437");
   xorgmw("308", "61", "437");
   andgmw("310", "308", "309");
   xorgmw("438", "310", "437");
   xorgmw("502", "375", "438");
   xorgmw("491", "364", "427");
   xorgmw("312", "126", "438");
   xorgmw("311", "62", "438");
   andgmw("313", "311", "312");
   xorgmw("439", "313", "438");
   xorgmw("503", "376", "439")
} 
postcondition: (|RECON("503"), RECON("502"), RECON("501"), RECON("500"), RECON("499"), RECON("498"), RECON("497"), RECON("496"), RECON("495"), RECON("494"), RECON("493"), RECON("492"), RECON("491"), RECON("490"), RECON("489"), RECON("488"), RECON("487"), RECON("486"), RECON("485"), RECON("484"), RECON("483"), RECON("482"), RECON("481"), RECON("480"), RECON("479"), RECON("478"), RECON("477"), RECON("476"), RECON("475"), RECON("474"), RECON("473"), RECON("472"), RECON("471"), RECON("470"), RECON("469"), RECON("468"), RECON("467"), RECON("466"), RECON("465"), RECON("464"), RECON("463"), RECON("462"), RECON("461"), RECON("460"), RECON("459"), RECON("458"), RECON("457"), RECON("456"), RECON("455"), RECON("454"), RECON("453"), RECON("452"), RECON("451"), RECON("450"), RECON("449"), RECON("448"), RECON("447"), RECON("446"), RECON("445"), RECON("444"), RECON("443"), RECON("442"), RECON("441"), RECON("440")| == BVAdd(|RECON("63"), RECON("62"), RECON("61"), RECON("60"), RECON("59"), RECON("58"), RECON("57"), RECON("56"), RECON("55"), RECON("54"), RECON("53"), RECON("52"), RECON("51"), RECON("50"), RECON("49"), RECON("48"), RECON("47"), RECON("46"), RECON("45"), RECON("44"), RECON("43"), RECON("42"), RECON("41"), RECON("40"), RECON("39"), RECON("38"), RECON("37"), RECON("36"), RECON("35"), RECON("34"), RECON("33"), RECON("32"), RECON("31"), RECON("30"), RECON("29"), RECON("28"), RECON("27"), RECON("26"), RECON("25"), RECON("24"), RECON("23"), RECON("22"), RECON("21"), RECON("20"), RECON("19"), RECON("18"), RECON("17"), RECON("16"), RECON("15"), RECON("14"), RECON("13"), RECON("12"), RECON("11"), RECON("10"), RECON("9"), RECON("8"), RECON("7"), RECON("6"), RECON("5"), RECON("4"), RECON("3"), RECON("2"), RECON("1"), RECON("0")|, |RECON("127"), RECON("126"), RECON("125"), RECON("124"), RECON("123"), RECON("122"), RECON("121"), RECON("120"), RECON("119"), RECON("118"), RECON("117"), RECON("116"), RECON("115"), RECON("114"), RECON("113"), RECON("112"), RECON("111"), RECON("110"), RECON("109"), RECON("108"), RECON("107"), RECON("106"), RECON("105"), RECON("104"), RECON("103"), RECON("102"), RECON("101"), RECON("100"), RECON("99"), RECON("98"), RECON("97"), RECON("96"), RECON("95"), RECON("94"), RECON("93"), RECON("92"), RECON("91"), RECON("90"), RECON("89"), RECON("88"), RECON("87"), RECON("86"), RECON("85"), RECON("84"), RECON("83"), RECON("82"), RECON("81"), RECON("80"), RECON("79"), RECON("78"), RECON("77"), RECON("76"), RECON("75"), RECON("74"), RECON("73"), RECON("72"), RECON("71"), RECON("70"), RECON("69"), RECON("68"), RECON("67"), RECON("66"), RECON("65"), RECON("64")|))


